---
defaults: &defaults
  buildpack: python_buildpack
  instances: 1
  memory: 1G
  services:
    - notify-shared
    - notify-admin
    - aws
  env: &defaults_env
    RUNNER: './vcapenvwrapper --root notify-shared --root notify-admin --root aws'
    NOTIFY_ENVIRONMENT: production
    ADMIN_BASE_URL: https://notify-admin.apps.b.cld.gov.au/
    DESKPRO_API_HOST: not-real
    DESKPRO_API_KEY: not-real
    TEMPLATE_PREVIEW_API_HOST: not-real
    TEMPLATE_PREVIEW_API_KEY: not-real
  command: make run-gunicorn

applications:
- name: notify-admin
  <<: *defaults
- name: notify-dev
  <<: *defaults
  env:
    <<: *defaults_env
    ADMIN_BASE_URL: https://notify-dev.apps.b.cld.gov.au/
- name: notify
  <<: *defaults
  env:
    <<: *defaults_env
    ADMIN_BASE_URL: https://notify.apps.b.cld.gov.au/
